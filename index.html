<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test: Quemaduras</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'media',
            theme: {
                extend: {}
            }
        }
    </script>
    <style>
        .option-btn {
            transition: all 0.2s;
        }
        .option-btn:hover:not(:disabled) {
            transform: translateX(5px);
        }
        .correct {
            background-color: #10b981 !important;
            color: white !important;
            border-color: #059669 !important;
        }
        .incorrect {
            background-color: #ef4444 !important;
            color: white !important;
            border-color: #dc2626 !important;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 min-h-screen flex flex-col items-center p-4 transition-colors duration-300">

    <!-- Header & Scoreboard -->
    <div class="w-full max-w-2xl bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-6 transition-colors">
        <h1 class="text-2xl font-bold text-orange-600 dark:text-orange-400 mb-2 text-center">Test: Quemaduras</h1>
        <p class="text-center text-gray-500 dark:text-gray-400 text-sm mb-4 italic">Banco de preguntas específico</p>
        <div class="flex justify-between items-center border-t dark:border-gray-700 pt-4">
            <div class="text-center">
                <p class="text-gray-500 dark:text-gray-400 text-sm uppercase font-semibold">Pregunta</p>
                <p id="question-counter" class="text-xl font-bold text-gray-800 dark:text-gray-200">1 / 13</p>
            </div>
            <div class="flex gap-8">
                <div class="text-center">
                    <p class="text-green-600 dark:text-green-400 text-sm uppercase font-semibold">Aciertos</p>
                    <p id="hits-count" class="text-xl font-bold dark:text-green-400">0</p>
                </div>
                <div class="text-center">
                    <p class="text-red-600 dark:text-red-400 text-sm uppercase font-semibold">Errores</p>
                    <p id="misses-count" class="text-xl font-bold dark:text-red-400">0</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Question Container -->
    <div id="game-container" class="w-full max-w-2xl bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 transition-colors">
        <div id="question-screen">
            <h2 id="question-text" class="text-xl font-medium text-gray-800 dark:text-gray-200 mb-6 leading-relaxed">
                <!-- Carga dinámica -->
            </h2>
            <div id="options-list" class="flex flex-col gap-3">
                <!-- Carga dinámica -->
            </div>
            <div class="mt-8 flex justify-end">
                <button id="next-btn" class="hidden bg-orange-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-orange-700 transition shadow-lg">
                    Siguiente Pregunta
                </button>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden text-center">
            <h2 class="text-3xl font-bold text-gray-800 dark:text-gray-100 mb-4">¡Test Finalizado!</h2>
            <div id="final-stats" class="text-lg mb-6 dark:text-gray-300"></div>
            <button onclick="location.reload()" class="bg-orange-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-orange-700 shadow-xl transition transform hover:scale-105">
                Reiniciar Test
            </button>
        </div>
    </div>

    <script>
        const questions = [
            { q: "1. ¿Qué es una quemadura?", a: ["La transferencia de energía desde una fuente de calor al cuerpo humano desencadena una secuencia de efectos anatómicos que pueden provocar una destrucción tisular irreversible.", "La transferencia de energía desde una fuente de calor al cuerpo humano desencadena una secuencia de efectos fisiológicos que pueden provocar una destrucción tisular reversible.", "La transferencia de energía desde una fuente de calor al cuerpo humano desencadena una secuencia de efectos fisiológicos que pueden provocar una destrucción tisular irreversible.", "La transferencia de energía desde una fuente de calor al cuerpo humano desencadena una secuencia de efectos anatómicos que pueden provocar una regeneración tisular irreversible."], c: 2 },
            { q: "2. Las quemadura menores son:", a: ["Aquellas que lesionan menos del 10% de la superficie corporal en los adultos y menos del 15% en los niños, siempre y cuando no sean de espesor total, y no comprometan áreas especiales.", "Aquellas que lesionan menos del 10% de la superficie corporal en los adultos y menos del 15% en los niños, siempre y cuando no sean de espesor parcial, y no comprometan áreas especiales.", "Aquellas que lesionan menos del 15% de la superficie corporal en los adultos y menos del 10% en los niños, siempre y cuando no sean de espesor total, y no comprometan áreas especiales: cara, manos, pies, genitales o pliegues de flexión.", "Aquellas que lesionan menos del 15% de la superficie corporal en los adultos y menos del 10% en los niños, siempre y cuando no sean de espesor parcial, y no comprometan áreas especiales."], c: 2 },
            { q: "3. ¿Qué es un desbridamiento?", a: ["Procedimiento realizado en el quirófano para realizar un recubrimiento de piel permanente.", "Se refiere al proceso de resección de la herida a nivel de la fascia o de forma secuencial quitando finas láminas hasta el nivel del tejido viable.", "La respuesta a y b son correctas.", "Todas son incorrectas."], c: 1 },
            { q: "4. ¿Los objetivos del tratamiento de la herida son?", a: ["Controlar la colonización microbiana.", "Prevenir infección de herida", "Ninguna respuesta es correcta.", "La respuesta a y b son correctas."], c: 3 },
            { q: "5. En el caso de las quemaduras eléctricas sería preferible realizar:", a: ["Una analítica de sangre", "Un electrocardiograma", "Un lavado continuo", "Eliminar la hidratación"], c: 1 },
            { q: "6. En la evaluación ABCD de una quemadura, ¿a cuál de los siguientes pertenece la sigla 'B'?", a: ["Determinar el estado de conciencia.", "Valorar el pulso y la circulación periférica.", "Respiración.", "Vía aérea abierta y limpia."], c: 2 },
            { q: "7. ¿Qué fenómenos clínicos se producen en el desarrollo de una quemadura durante las primeras horas de su evolución?", a: ["Vasodilatación", "Aumento de la permeabilidad capilar", "Vasoconstricción", "a y b son correctas"], c: 3 },
            { q: "8. ¿Cuál de los siguientes no es un factor de riesgo para tener quemaduras?", a: ["Ser mujer", "Ser niño/niña", "Tener una posición socioeconómica alta", "Viviren países con bajo y mediano ingreso de la región del mediterráneo oriental"], c: 2 },
            { q: "9. ¿Qué consecuencias puede llegar a producir una quemadura de más del 40% quemado?", a: ["Hipervolemia.", "Disfunción de la contractilidad.", "Disminución del gasto cardíaco.", "B y c son correctas."], c: 3 },
            { q: "10. ¿Cuál es la causa de las quemaduras por frío?", a: ["Hipertermia.", "Hielo", "Hipotermia.", "Todas son correctas."], c: 2 },
            { q: "11. ¿Cuál es la mejor forma de tratar las quemaduras?", a: ["Prevención.", "Tratamientos específicos.", "Antibióticos.", "Antibióticos y analgesia."], c: 0 },
            { q: "12. ¿Qué ocurre en una quemadura a nivel digestivo?", a: ["Peristaltismo disminuido.", "Peristaltismo aumentado presentando una distensión gástrica.", "Ninguna es correcta.", "Peristaltismo disminuido presentando una distensión gástrica."], c: 3 },
            { q: "13. En el tratamiento de un gran quemado, señala la incorrecta:", a: ["Es importante asegurar la vía aérea.", "Se deben irrigar las quemaduras químicas.", "Se deben administrar antibióticos para evitar una sepsis (se usan tópicos, no profilaxis sistémica rutinaria).", "Es importante la protección gástrica intravenosa."], c: 2 }
        ];

        let currentQuestion = 0;
        let hits = 0;
        let misses = 0;
        let answered = false;

        const questionText = document.getElementById('question-text');
        const optionsList = document.getElementById('options-list');
        const nextBtn = document.getElementById('next-btn');
        const hitsCount = document.getElementById('hits-count');
        const missesCount = document.getElementById('misses-count');
        const qCounter = document.getElementById('question-counter');

        function loadQuestion() {
            answered = false;
            nextBtn.classList.add('hidden');
            const q = questions[currentQuestion];
            
            qCounter.innerText = `${currentQuestion + 1} / ${questions.length}`;
            questionText.innerText = q.q;
            optionsList.innerHTML = '';

            q.a.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.className = "option-btn w-full text-left p-4 border-2 border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors";
                btn.innerText = option;
                btn.onclick = () => checkAnswer(index, btn);
                optionsList.appendChild(btn);
            });
        }

        function checkAnswer(index, btn) {
            if (answered) return;
            answered = true;
            
            const q = questions[currentQuestion];
            const allBtns = optionsList.querySelectorAll('button');

            if (index === q.c) {
                btn.classList.add('correct');
                hits++;
                hitsCount.innerText = hits;
            } else {
                btn.classList.add('incorrect');
                allBtns[q.c].classList.add('correct');
                misses++;
                missesCount.innerText = misses;
            }

            allBtns.forEach(b => {
                b.disabled = true;
                b.classList.remove('hover:bg-gray-50', 'dark:hover:bg-gray-700');
            });
            nextBtn.classList.remove('hidden');
            
            if (currentQuestion === questions.length - 1) {
                nextBtn.innerText = "Ver Resultados Finales";
            }
        }

        nextBtn.onclick = () => {
            currentQuestion++;
            if (currentQuestion < questions.length) {
                loadQuestion();
            } else {
                showResults();
            }
        };

        function showResults() {
            document.getElementById('question-screen').classList.add('hidden');
            const screen = document.getElementById('result-screen');
            screen.classList.remove('hidden');
            
            const score = Math.round((hits / questions.length) * 100);
            document.getElementById('final-stats').innerHTML = `
                <p class="text-4xl font-bold text-orange-600 dark:text-orange-400 mb-2">${score}%</p>
                <div class="space-y-1">
                    <p>Aciertos: <span class="text-green-600 dark:text-green-400 font-bold">${hits}</span></p>
                    <p>Errores: <span class="text-red-600 dark:text-red-400 font-bold">${misses}</span></p>
                </div>
                <p class="mt-6 text-gray-600 dark:text-gray-400 italic">Test de Quemaduras completado.</p>
            `;
        }

        loadQuestion();
    </script>
</body>
</html>
